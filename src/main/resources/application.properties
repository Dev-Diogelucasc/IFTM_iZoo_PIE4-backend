spring.application.name=backend.izoo

# MongoDB Configuration - Atlas (usando variáveis de ambiente)
spring.data.mongodb.uri=${MONGODB_URI}
spring.data.mongodb.database=${MONGODB_DATABASE}

# Optional MongoDB configurations
spring.data.mongodb.auto-index-creation=true

# Server port
server.port=${SERVER_PORT:8080}

# JWT Configuration
jwt.secret=${JWT_SECRET}
jwt.expiration=${JWT_EXPIRATION}

# JSON serialization
spring.jackson.serialization.fail-on-empty-beans=false
spring.jackson.serialization.write-dates-as-timestamps=false

# Security Configuration
spring.security.require-ssl=false

# Logging
logging.level.org.mongodb.driver=DEBUG
logging.level.org.springframework.data.mongodb=DEBUG

# ============================================
# Email Configuration (SMTP)
# ============================================
# Host do servidor SMTP
spring.mail.host=${SMTP_HOST:smtp.gmail.com}

# Porta do servidor SMTP - Usando 587 com TLS (mais compatível com cloud)
spring.mail.port=${SMTP_PORT:2525}

# Email remetente
spring.mail.username=${SMTP_USERNAME:seu-email@gmail.com}

# Senha do email ou App Password
spring.mail.password=${SMTP_PASSWORD:sua-senha-aqui}

# Propriedades TLS (porta 587) - Mais compatível com serviços cloud
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# Timeout configurations (aumentados para conexões cloud)
spring.mail.properties.mail.smtp.connectiontimeout=900000
spring.mail.properties.mail.smtp.timeout=900000
spring.mail.properties.mail.smtp.writetimeout=900000

# Logging de email para debug
logging.level.org.springframework.mail=DEBUG
